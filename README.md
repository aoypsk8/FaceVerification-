# Face Verification Application

à¹à¸­à¸›à¸à¸¥à¸´à¹€à¸„à¸Šà¸±à¸™à¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™à¸”à¹‰à¸§à¸¢à¹ƒà¸šà¸«à¸™à¹‰à¸²à¹‚à¸”à¸¢à¹ƒà¸Šà¹‰ Amazon Rekognition à¹à¸¥à¸° Node.js (Express)

## ğŸ“‹ à¸ à¸²à¸à¸£à¸§à¸¡

à¹à¸­à¸›à¸à¸¥à¸´à¹€à¸„à¸Šà¸±à¸™à¸™à¸µà¹‰à¸Šà¹ˆà¸§à¸¢à¹ƒà¸«à¹‰à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸ªà¸²à¸¡à¸²à¸£à¸–à¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™à¹„à¸”à¹‰à¹‚à¸”à¸¢à¸à¸²à¸£à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸šà¹ƒà¸šà¸«à¸™à¹‰à¸²à¸ˆà¸²à¸ Selfie à¸à¸±à¸šà¸£à¸¹à¸›à¸ à¸²à¸à¹ƒà¸™à¸šà¸±à¸•à¸£à¸›à¸£à¸°à¸Šà¸²à¸Šà¸™à¸«à¸£à¸·à¸­à¸à¸²à¸ªà¸›à¸­à¸£à¹Œà¸• à¹‚à¸”à¸¢à¹ƒà¸Šà¹‰ AWS Rekognition API

## âœ¨ à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´

- âœ… à¸­à¸±à¸›à¹‚à¸«à¸¥à¸” Selfie à¹à¸¥à¸° ID/Passport à¸œà¹ˆà¸²à¸™ UI à¸—à¸µà¹ˆà¸ªà¸§à¸¢à¸‡à¸²à¸¡
- âœ… à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸šà¹ƒà¸šà¸«à¸™à¹‰à¸²à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¸”à¹‰à¸§à¸¢ AWS Rekognition
- âœ… à¹à¸ªà¸”à¸‡ Similarity Score à¹à¸¥à¸°à¸ªà¸–à¸²à¸™à¸° Success/Fail
- âœ… à¹ƒà¸Šà¹‰ threshold 90% à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™
- âœ… à¹„à¸¡à¹ˆà¹€à¸à¹‡à¸šà¹„à¸Ÿà¸¥à¹Œà¸ à¸²à¸à¸šà¸™ server (à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥à¸ˆà¸²à¸ memory buffer)
- âœ… UI à¸ªà¸§à¸¢à¸‡à¸²à¸¡à¸”à¹‰à¸§à¸¢ Tailwind CSS à¸à¸£à¹‰à¸­à¸¡ loading spinner

## ğŸ› ï¸ à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰

- **Backend:** Node.js + Express
- **AWS SDK:** @aws-sdk/client-rekognition (v3)
- **File Upload:** Multer (memory storage)
- **Frontend:** HTML5 + Tailwind CSS + Vanilla JavaScript
- **Environment:** dotenv

## ğŸ“¦ à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡

### 1. à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ Dependencies

```bash
npm install
```

### 2. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² AWS Credentials

à¸„à¸±à¸”à¸¥à¸­à¸à¹„à¸Ÿà¸¥à¹Œ `.env.example` à¹€à¸›à¹‡à¸™ `.env`:

```bash
cp .env.example .env
```

à¹à¸à¹‰à¹„à¸‚à¹„à¸Ÿà¸¥à¹Œ `.env` à¹à¸¥à¸°à¸à¸£à¸­à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ AWS credentials à¸‚à¸­à¸‡à¸„à¸¸à¸“:

```env
AWS_ACCESS_KEY_ID=your_access_key_id_here
AWS_SECRET_ACCESS_KEY=your_secret_access_key_here
AWS_REGION=ap-southeast-1
PORT=3000
```

### 3. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² AWS Rekognition

1. à¸ªà¸£à¹‰à¸²à¸‡ AWS Account (à¸–à¹‰à¸²à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µ)
2. à¸ªà¸£à¹‰à¸²à¸‡ IAM User à¸à¸£à¹‰à¸­à¸¡ Access Key à¹à¸¥à¸° Secret Key
3. à¹ƒà¸«à¹‰à¸ªà¸´à¸—à¸˜à¸´à¹Œ IAM User à¹ƒà¸™à¸à¸²à¸£à¹ƒà¸Šà¹‰ Rekognition service:
   ```json
   {
     "Version": "2012-10-17",
     "Statement": [
       {
         "Effect": "Allow",
         "Action": [
           "rekognition:CompareFaces"
         ],
         "Resource": "*"
       }
     ]
   }
   ```

## ğŸš€ à¸à¸²à¸£à¸£à¸±à¸™à¹à¸­à¸›à¸à¸¥à¸´à¹€à¸„à¸Šà¸±à¸™

### Development Mode

```bash
npm run dev
```

### Production Mode

```bash
npm start
```

à¹à¸­à¸›à¸à¸¥à¸´à¹€à¸„à¸Šà¸±à¸™à¸ˆà¸°à¸—à¸³à¸‡à¸²à¸™à¸—à¸µà¹ˆ `http://localhost:3000`

## ğŸ“ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ

```
FaceVerification/
â”œâ”€â”€ server.js              # Express backend server
â”œâ”€â”€ package.json           # Dependencies à¹à¸¥à¸° scripts
â”œâ”€â”€ .env.example          # Template à¸ªà¸³à¸«à¸£à¸±à¸š environment variables
â”œâ”€â”€ .gitignore            # Git ignore rules
â”œâ”€â”€ README.md             # à¹€à¸­à¸à¸ªà¸²à¸£à¸™à¸µà¹‰
â””â”€â”€ public/
    â””â”€â”€ index.html        # Frontend UI
```

## ğŸ”§ API Endpoints

### POST `/api/verify`

à¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™à¹‚à¸”à¸¢à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸šà¹ƒà¸šà¸«à¸™à¹‰à¸²

**Request:**
- Method: `POST`
- Content-Type: `multipart/form-data`
- Body:
  - `selfie`: à¹„à¸Ÿà¸¥à¹Œà¸ à¸²à¸ Selfie
  - `idDocument`: à¹„à¸Ÿà¸¥à¹Œà¸ à¸²à¸ ID/Passport

**Response (Success):**
```json
{
  "success": true,
  "similarity": 95.5,
  "message": "à¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™à¸ªà¸³à¹€à¸£à¹‡à¸ˆ - à¹ƒà¸šà¸«à¸™à¹‰à¸²à¸•à¸£à¸‡à¸à¸±à¸™",
  "faceMatches": 1
}
```

**Response (Failed):**
```json
{
  "success": false,
  "similarity": 75.2,
  "message": "à¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™à¹„à¸¡à¹ˆà¸ªà¸³à¹€à¸£à¹‡à¸ˆ - à¹ƒà¸šà¸«à¸™à¹‰à¸²à¹„à¸¡à¹ˆà¸•à¸£à¸‡à¸à¸±à¸™",
  "faceMatches": 1
}
```

## ğŸ”’ à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢

- âœ… à¹„à¸¡à¹ˆà¹€à¸à¹‡à¸šà¹„à¸Ÿà¸¥à¹Œà¸ à¸²à¸à¸šà¸™ server (à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥à¸ˆà¸²à¸ memory buffer à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™)
- âœ… à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸›à¸£à¸°à¹€à¸ à¸—à¹„à¸Ÿà¸¥à¹Œà¸à¹ˆà¸­à¸™à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”
- âœ… à¸ˆà¸³à¸à¸±à¸”à¸‚à¸™à¸²à¸”à¹„à¸Ÿà¸¥à¹Œà¸ªà¸¹à¸‡à¸ªà¸¸à¸” 5MB
- âœ… à¹ƒà¸Šà¹‰ environment variables à¸ªà¸³à¸«à¸£à¸±à¸š AWS credentials
- âœ… Error handling à¸—à¸µà¹ˆà¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡

## ğŸ§ª Testing Strategy

### Unit Tests (à¹à¸™à¸°à¸™à¸³)

1. **Test File Upload Validation:**
   - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸²à¹„à¸Ÿà¸¥à¹Œà¹€à¸›à¹‡à¸™à¸ à¸²à¸à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ
   - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸‚à¸™à¸²à¸”à¹„à¸Ÿà¸¥à¹Œà¹„à¸¡à¹ˆà¹€à¸à¸´à¸™ 5MB
   - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸²à¸¡à¸µà¹„à¸Ÿà¸¥à¹Œà¸„à¸£à¸šà¸—à¸±à¹‰à¸‡ 2 à¹„à¸Ÿà¸¥à¹Œ

2. **Test AWS Rekognition Integration:**
   - Mock AWS SDK responses
   - Test success case (similarity >= 90%)
   - Test fail case (similarity < 90%)
   - Test no face found case

3. **Test Error Handling:**
   - Invalid image format
   - Image too large
   - Missing AWS credentials
   - Network errors

### Integration Tests (à¹à¸™à¸°à¸™à¸³)

1. **End-to-End Test:**
   - Upload valid images â†’ Verify success response
   - Upload invalid images â†’ Verify error response
   - Test with different similarity scores

### Edge Cases

- à¸ à¸²à¸à¸—à¸µà¹ˆà¸¡à¸µà¸«à¸¥à¸²à¸¢à¹ƒà¸šà¸«à¸™à¹‰à¸²
- à¸ à¸²à¸à¸—à¸µà¹ˆà¸¡à¸µà¹ƒà¸šà¸«à¸™à¹‰à¸²à¹„à¸¡à¹ˆà¸Šà¸±à¸”à¹€à¸ˆà¸™
- à¸ à¸²à¸à¸—à¸µà¹ˆà¸¡à¸µà¸‚à¸™à¸²à¸”à¹ƒà¸«à¸à¹ˆà¸¡à¸²à¸
- à¸ à¸²à¸à¸—à¸µà¹ˆà¸¡à¸µà¸£à¸¹à¸›à¹à¸šà¸šà¹„à¸¡à¹ˆà¸£à¸­à¸‡à¸£à¸±à¸š

## ğŸ“ à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸

- **Similarity Threshold:** à¸•à¸±à¹‰à¸‡à¹„à¸§à¹‰à¸—à¸µà¹ˆ 90% à¸•à¸²à¸¡à¸„à¸§à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£ à¸ªà¸²à¸¡à¸²à¸£à¸–à¸›à¸£à¸±à¸šà¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹„à¸”à¹‰à¹ƒà¸™ `server.js`
- **File Size Limit:** à¸ˆà¸³à¸à¸±à¸”à¹„à¸§à¹‰à¸—à¸µà¹ˆ 5MB à¸ªà¸²à¸¡à¸²à¸£à¸–à¸›à¸£à¸±à¸šà¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹„à¸”à¹‰à¹ƒà¸™ `server.js`
- **Supported Formats:** JPG, PNG, GIF (à¸•à¸²à¸¡à¸—à¸µà¹ˆ AWS Rekognition à¸£à¸­à¸‡à¸£à¸±à¸š)

## ğŸ› Troubleshooting

### à¸›à¸±à¸à¸«à¸²: "AWS credentials à¹„à¸¡à¹ˆà¸„à¸£à¸šà¸–à¹‰à¸§à¸™"
**à¹à¸à¹‰à¹„à¸‚:** à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸²à¹„à¸Ÿà¸¥à¹Œ `.env` à¸¡à¸µà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸„à¸£à¸šà¸–à¹‰à¸§à¸™à¹à¸¥à¸°à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ root à¸‚à¸­à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ

### à¸›à¸±à¸à¸«à¸²: "ImageTooLargeException"
**à¹à¸à¹‰à¹„à¸‚:** à¸¥à¸”à¸‚à¸™à¸²à¸”à¹„à¸Ÿà¸¥à¹Œà¸ à¸²à¸à¹ƒà¸«à¹‰à¸•à¹ˆà¸³à¸à¸§à¹ˆà¸² 5MB à¸«à¸£à¸·à¸­à¸›à¸£à¸±à¸šà¸„à¹ˆà¸² `fileSize` limit à¹ƒà¸™ `server.js`

### à¸›à¸±à¸à¸«à¸²: "InvalidParameterException"
**à¹à¸à¹‰à¹„à¸‚:** à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸²à¸ à¸²à¸à¸¡à¸µà¹ƒà¸šà¸«à¸™à¹‰à¸²à¸Šà¸±à¸”à¹€à¸ˆà¸™à¹à¸¥à¸°à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™à¸£à¸¹à¸›à¹à¸šà¸šà¸—à¸µà¹ˆà¸£à¸­à¸‡à¸£à¸±à¸š

## ğŸ”„ à¸à¸²à¸£à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡à¹ƒà¸™à¸­à¸™à¸²à¸„à¸•

- [ ] à¹€à¸à¸´à¹ˆà¸¡à¸à¸²à¸£à¸£à¸­à¸‡à¸£à¸±à¸šà¸à¸²à¸£à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¸«à¸¥à¸²à¸¢à¹„à¸Ÿà¸¥à¹Œà¸à¸£à¹‰à¸­à¸¡à¸à¸±à¸™
- [ ] à¹€à¸à¸´à¹ˆà¸¡à¸à¸²à¸£à¹à¸ªà¸”à¸‡à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œà¹à¸šà¸š real-time
- [ ] à¹€à¸à¸´à¹ˆà¸¡à¸à¸²à¸£à¸šà¸±à¸™à¸—à¸¶à¸ log à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£ audit
- [ ] à¹€à¸à¸´à¹ˆà¸¡ rate limiting à¹€à¸à¸·à¹ˆà¸­à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¹€à¸à¸´à¸™
- [ ] à¹€à¸à¸´à¹ˆà¸¡ unit tests à¹à¸¥à¸° integration tests
- [ ] à¹€à¸à¸´à¹ˆà¸¡ Docker containerization

## ğŸ“„ License

MIT
